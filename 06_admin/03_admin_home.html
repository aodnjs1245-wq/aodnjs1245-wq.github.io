<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/assets/images/00_common/logo_top.svg" type="image/svg+xml"> <!-- favicon -->
    <title>서환산업 | 관리자 홈</title>

    <link rel="stylesheet" href="/css/01_common.css">
    <link rel="stylesheet" href="/css/02_pages.css">
    <link rel="stylesheet" href="/css/03_admin.css">
</head>

<body>

    <main class="admin-wrap">
        <section class="admin-card">
            <div class="admin-card__head">
                <h1 class="admin-card__title">관리자 홈</h1>
                <p class="admin-card__desc">관리 메뉴를 선택하세요.</p>
            </div>

            <div class="admin-card__body">
                <div class="admin-grid">
                    <div class="admin-panel">
                        <h2 class="admin-panel__title">공지사항 관리</h2>
                        <p class="admin-panel__text">공지 작성 후, 홈페이지 공지사항 목록/상세에 자동 반영됩니다.</p>
                        <div class="admin-actions">
                            <a class="admin-btn admin-btn--primary" href="/06_admin/02_notice_write.html">공지 작성</a>
                            <a class="admin-btn admin-btn--ghost" href="/06_admin/04_notice_manage.html" target="_blank"
                                rel="noopener">공지 목록 확인</a>
                        </div>
                    </div>

                    <!-- ========================= 
                                실적 관리
                     ========================= -->
                    <div class="admin-panel">
                        <h2 class="admin-panel__title">전체 사업실적 관리</h2>
                        <p class="admin-panel__text">실적 작성/수정/삭제 후 전체 사업실적 페이지에 자동 반영됩니다.</p>
                        <div class="admin-actions">
                            <a class="admin-btn admin-btn--primary" href="/06_admin/06_performance_write.html">실적 작성</a>
                            <a class="admin-btn admin-btn--ghost" href="/06_admin/05_performance_manage.html">실적 목록
                                확인</a>
                        </div>
                    </div>


                    <div class="admin-panel">
                        <h2 class="admin-panel__title">로그아웃</h2>
                        <p class="admin-panel__text">관리 작업이 끝났다면 로그아웃하세요.</p>
                        <div class="admin-actions">
                            <button class="admin-btn admin-btn--danger" id="adminLogoutBtn" type="button">로그아웃</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/js/01_supabase.js"></script>
    <script src="/js/00_common.js"></script>

    <script>
        /* =========================
           관리자 홈 보호 + 로그아웃
        ========================= */
        document.addEventListener("DOMContentLoaded", async () => {
            const { data: { session } } = await window.supabaseClient.auth.getSession();
            if (!session) {
                location.href = "/06_admin/01_admin_login.html";
                return;
            }

            const btn = document.getElementById("adminLogoutBtn");
            btn.addEventListener("click", async () => {
                await window.supabaseClient.auth.signOut();
                location.href = "/06_admin/01_admin_login.html";
            });
        });
    </script>
</body>

</html>